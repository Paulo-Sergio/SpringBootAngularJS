<div ng-controller="clienteController">
	<h3>Pagina de Clientes</h3>
	<p>Oi, {{cliente.nome}}</p>
	
	<form novalidate name="frmCliente">
		<div>
			Nome: <input type="text" name="txtNome" ng-model="cliente.nome" required ng-minlength="3" ng-maxlength="10"/>
			<span ng-show="frmCliente.txtNome.$error.required && !frmCliente.txtNome.$pristine">Campo Nome Obrigatorio</span>
		</div>
		<div>
			Email: <input type="email" name="txtEmail" ng-model="cliente.email" required/>
			<span ng-show="frmCliente.txtEmail.$error.required && !frmCliente.txtEmail.$pristine">Campo Email Obrigatorio</span>
			<span ng-show="frmCliente.txtEmail.$error.email">Campo Email Invalido</span>
		</div>
		<div>
			Estado: <select ng-model="cliente.estado" ng-options="estado.uf for estado in estados track by estado.id" required></select>
			<span ng-show="frmCliente.txtEmail.$error.required && !frmCliente.txtEmail.$pristine">Selecione um estado!</span>
		</div>
		<input type="button" value="Salvar" ng-model="cliente.nome" ng-click="salvarCliente()" ng-disabled="frmCliente.$invalid" />
		<input type="button" value="Cancelar" ng-click="cancelar()" ng-disabled="frmCliente.$invalid"/>
	</form>
	
	<hr>
	
	<div ng-repeat="cli in clientes">
		<table border="1">
			<tr>
				<th>Id</th>
				<th>Nome</th>
				<th>Email</th>
				<th>Estado</th>
				<th>Acoes</th>
			</tr>
			<tr>
				<td>{{cli.id}}</td>
				<td>{{cli.nome}}</td>
				<td>{{cli.email}}</td>
				<td>{{cli.estado.uf}}</td>
				<td>
					<input type="button" value="excluir" ng-click="excluirCliente(cli)"/> | 
					<input type="button" value="alterar" ng-click="alterarCliente(cli)"/> | 
					<a href="clientes/{{cli.id}}">Detalhar</a>
				</td>
			</tr>
			
		
		</table>
	</div>
</div>